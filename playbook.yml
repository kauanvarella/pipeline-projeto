- hosts: Projeto
  become: yes
  tasks: 
    - name: Atualizando dependencias do sistema
      apt:
        pkg:
        - yum update
        update_cache: yes
      ignore_errors: True

    - name: Instalando Docker
      ansible.builtin.yum:
        name: docker
        state: latest

    - name: Habilitando o Docker
      shell: service docker start
      shell: systemctl enable docker
      shell: usermod -a -G docker ec2-user

    # - name: Instalando o Docker
    #   apt: 

    #   shell: yum update -y
    #   shell: amazon-linux-extras install docker -y
    #   shell: service docker start
    #   shell: systemctl enable docker
    #   shell: usermod -a -G docker ec2-user


    #   shell: yum install git -y
    #   shell: curl -L https://github.com/docker/compose/releases/download/1.22.0/docker-compose-$(uname -s)-$(uname -m) -o /usr/local/bin/docker-compose
    #   shell: chmod +x /usr/local/bin/docker-compose
    #   shell: git clone https://github.com/kauanvarella/meu-app.git
    #   shell: cd meu-app/
    #   shell: chown $USER /var/run/docker.sock
    #   shell: sudo docker-compose up -d
    #   become: yes
